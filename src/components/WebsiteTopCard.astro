---
import type { CollectionEntry } from "astro:content";
import { getOneWeekAgo } from "../utils/datetime.ts";

interface Props {
    website: CollectionEntry<'websites'>;
}

const { website } = Astro.props;

const oneWeekAgo = getOneWeekAgo();
---

<div class="flex flex-col gap-y-1">
    <div class="flex items-center border-b-2 border-navy dark:border-khakie">
        <h2>
            <a
                href={`/websites/${website.slug}`}
                class="text-3xl font-bold break-words hover:no-underline"
            >
                {website.data.title}
            </a>
        </h2>
    </div>
    <ul class="flex flex-wrap items-center gap-x-2">
        {website.data.tags.map((tag: string) => (
            <li>
                <a
                    href={`/tags/${tag}`}
                    class="
                        border-2 border-navy dark:border-khaki
                        px-1
                        text-sm hover:no-underline
                    "
                >
                    {tag}
                </a>
            </li>
        ))}
    </ul>
    {website.data.description && (
        <p class="text-base line-clamp-4 break-words">
            {website.data.description}
        </p>
    )}
    <div>
        <a
            href={website.data.url}
            target="_blank"
            rel="noopener noreferrer"
            class="inline text-sm underline line-clamp-1 break-words"
        >
            {website.data.url}
        </a>
    </div>
</div>
